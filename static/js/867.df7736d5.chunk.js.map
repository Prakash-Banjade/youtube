{"version":3,"file":"static/js/867.df7736d5.chunk.js","mappings":"qNAMMA,EAAiB,SAAH,GAAyB,IAAnBC,EAAG,EAAHA,IAAKC,EAAM,EAANA,OACvBC,GAAWC,EAAAA,EAAAA,QAAO,MAElBC,GAAWC,EAAAA,EAAAA,MAIjB,OACE,gBAAKC,UAAU,iBAAgB,UAC7B,kBACEC,IAAKL,EACLF,IAAKA,EACLC,OAAQA,EACRO,UAAQ,EACRC,aAVmB,WACG,YAAtBL,EAASM,UAAwBR,EAASS,QAAQC,MACxD,EASMC,UAAQ,EACRC,QAAQ,UAIhB,EAwFA,EAtFe,WACb,OAA8CC,EAAAA,EAAAA,UAAS,GAAE,eAAlDC,EAAe,KAAEC,EAAkB,KAIpCC,GAFaC,EAAAA,EAAAA,YAAWC,EAAAA,GAAtBC,OAEYC,KAAI,SAACC,GACvB,OACE,SAACxB,EAAc,CAACC,IAAKuB,EAAMC,YAAY,GAAGC,KAAMxB,OAAQsB,EAAMG,OAElE,KAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgB,SAACC,GACH,cAAdA,EAAMC,KAAqC,YAAdD,EAAMC,KACrCC,EAAuB,cAAdF,EAAMC,IAAsB,GAAK,EAE9C,EACAE,OAAOC,iBAAiB,UAAWL,GAEnC,IAAMM,EAAmB,SAACL,GACxBM,EAAUN,EAAMO,QAAQ,GAAGC,QAC7B,EACAL,OAAOC,iBAAiB,aAAcC,GAEtC,IAAMI,EAAkB,SAACT,GACvBU,EAAQV,EAAMO,QAAQ,GAAGC,QAC3B,EACAL,OAAOC,iBAAiB,YAAaK,GAErC,IAAME,EAAiB,SAACX,GAClBY,EAAOC,EAAS,GAClBX,GAAU,GACDU,EAAOC,EAAS,IACzBX,EAAS,GAEXI,EAAU,MACVI,EAAQ,KACV,EAGA,OAFAP,OAAOC,iBAAiB,WAAYO,GAE7B,WACLR,OAAOW,oBAAoB,UAAWf,GACtCI,OAAOW,oBAAoB,aAAcT,GACzCF,OAAOW,oBAAoB,YAAaL,GACxCN,OAAOW,oBAAoB,WAAYH,EACzC,CACF,GAAG,CAACtB,EAAK0B,OAAQ5B,IAEjB,OAA4BD,EAAAA,EAAAA,UAAS,MAAK,eAAnC2B,EAAM,KAAEP,EAAS,KACxB,GAAwBpB,EAAAA,EAAAA,UAAS,MAAK,eAA/B0B,EAAI,KAAEF,EAAO,KAEdR,EAAW,SAACc,GAChB,IAAMC,EAAY9B,EAAkB6B,EAChCC,GAAa,GAAKA,EAAY5B,EAAK0B,QACrC3B,EAAmB6B,EAEvB,EAEA,OACE,gBAAKC,MAAO,CAAEC,SAAU,YAAa,SAClC9B,EAAKI,KAAI,SAAC2B,EAAKC,GAAK,OACnB,gBAEEH,MAAO,CACLC,SAAU,WACVG,IAAK,EACLC,KAAM,EACNC,MAAO,OACPC,OAAQ,QACRC,WAAY,0BACZC,UAAU,cAAD,OACPN,IAAUlC,EACN,EACAkC,EAAQlC,EACR,SACA,QAAO,MAEb,SAEDiC,GAjBIC,EAkBD,KAId,C","sources":["routes/Shorts.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { VideosContext } from \"../GetVideos\";\r\n\r\nimport \"../css/Shorts.scss\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst ShortVideoItem = ({ src, poster }) => {\r\n  const videoRef = useRef(null);\r\n\r\n  const location = useLocation()\r\n  const handleLoadedData = () => {\r\n    if (location.pathname === \"/shorts\") videoRef.current.play();\r\n  };\r\n  return (\r\n    <div className=\"shortVideoItem\">\r\n      <video\r\n        ref={videoRef}\r\n        src={src}\r\n        poster={poster}\r\n        controls\r\n        onLoadedData={handleLoadedData}\r\n        autoPlay\r\n        preload=\"auto\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Shorts = () => {\r\n  const [currentDivIndex, setCurrentDivIndex] = useState(0);\r\n\r\n  const { result } = useContext(VideosContext);\r\n\r\n  const divs = result.map((video) => {\r\n    return (\r\n      <ShortVideoItem src={video.video_files[2].link} poster={video.image} />\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (event) => {\r\n      if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\") {\r\n        navigate(event.key === \"ArrowDown\" ? 1 : -1);\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n    const handleTouchStart = (event) => {\r\n      setStartY(event.touches[0].clientY);\r\n    };\r\n    window.addEventListener(\"touchstart\", handleTouchStart);\r\n\r\n    const handleTouchMove = (event) => {\r\n      setEndY(event.touches[0].clientY);\r\n    };\r\n    window.addEventListener(\"touchmove\", handleTouchMove);\r\n\r\n    const handleTouchEnd = (event) => {\r\n      if (endY > startY + 50) {\r\n        navigate(-1);\r\n      } else if (endY < startY - 50) {\r\n        navigate(1);\r\n      }\r\n      setStartY(null);\r\n      setEndY(null);\r\n    };\r\n    window.addEventListener(\"touchend\", handleTouchEnd);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n      window.removeEventListener(\"touchstart\", handleTouchStart);\r\n      window.removeEventListener(\"touchmove\", handleTouchMove);\r\n      window.removeEventListener(\"touchend\", handleTouchEnd);\r\n    };\r\n  }, [divs.length, currentDivIndex]);\r\n\r\n  const [startY, setStartY] = useState(null);\r\n  const [endY, setEndY] = useState(null);\r\n\r\n  const navigate = (direction) => {\r\n    const nextIndex = currentDivIndex + direction;\r\n    if (nextIndex >= 0 && nextIndex < divs.length) {\r\n      setCurrentDivIndex(nextIndex);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      {divs.map((div, index) => (\r\n        <div\r\n          key={index}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100%\",\r\n            height: \"100vh\",\r\n            transition: \"transform 0.5s ease-out\",\r\n            transform: `translateY(${\r\n              index === currentDivIndex\r\n                ? 0\r\n                : index < currentDivIndex\r\n                ? \"-100vh\"\r\n                : \"100vh\"\r\n            })`,\r\n          }}\r\n        >\r\n          {div}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shorts;\r\n"],"names":["ShortVideoItem","src","poster","videoRef","useRef","location","useLocation","className","ref","controls","onLoadedData","pathname","current","play","autoPlay","preload","useState","currentDivIndex","setCurrentDivIndex","divs","useContext","VideosContext","result","map","video","video_files","link","image","useEffect","handleKeyDown","event","key","navigate","window","addEventListener","handleTouchStart","setStartY","touches","clientY","handleTouchMove","setEndY","handleTouchEnd","endY","startY","removeEventListener","length","direction","nextIndex","style","position","div","index","top","left","width","height","transition","transform"],"sourceRoot":""}