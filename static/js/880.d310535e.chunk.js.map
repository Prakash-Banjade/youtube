{"version":3,"file":"static/js/880.d310535e.chunk.js","mappings":"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","sources":["ProgressBar.jsx","components/ShortVideoItem.jsx","routes/Shorts.jsx","useVideoSearch.js","../node_modules/@mui/icons-material/Comment.js","../node_modules/@mui/icons-material/MoreHoriz.js","../node_modules/@mui/icons-material/Reply.js","../node_modules/@mui/icons-material/ThumbDown.js","../node_modules/@mui/icons-material/ThumbUp.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\n\r\nexport default function ProgressBar({ videoRef, duration, setDuration }) {\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [isScrubbing, setIsScrubbing] = useState(false);\r\n  const progressBarRef = useRef();\r\n  const progressBarFillRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const intervalId = setInterval(() => {\r\n      if (!isScrubbing) {\r\n        setCurrentTime(videoRef.current.currentTime);\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [isScrubbing, videoRef]);\r\n\r\n  useEffect(() => {\r\n    setDuration(videoRef.current.duration);\r\n  }, [videoRef]);\r\n\r\n  const handleMouseDown = () => {\r\n    setIsScrubbing(true);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsScrubbing(false);\r\n  };\r\n\r\n  const handleMouseMove = (event) => {\r\n    if (isScrubbing) {\r\n      const progressBar = progressBarRef.current;\r\n      const { left, width } = progressBar.getBoundingClientRect();\r\n      const clickX = event.clientX - left;\r\n      const percentage = clickX / width;\r\n      const newTime = duration * percentage;\r\n      setCurrentTime(newTime);\r\n      videoRef.current.currentTime = newTime;\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    const progressBar = progressBarRef.current;\r\n\r\n    progressBar.querySelector(\".progress-bar-fill\").style.transition = \"none\";\r\n    const { left, width } = progressBar.getBoundingClientRect();\r\n    const clickX = event.clientX - left;\r\n    const percentage = clickX / width;\r\n    const newTime = duration * percentage;\r\n\r\n    if (isFinite(newTime)) {\r\n      setCurrentTime(newTime);\r\n      progressBar.querySelector(\".progress-bar-fill\").style.width = `${\r\n        percentage * 100\r\n      }%`;\r\n      videoRef.current.currentTime = newTime;\r\n    }\r\n  };\r\n\r\n  const progressPercentage = (currentTime / duration) * 100;\r\n\r\n  return (\r\n    <div\r\n      className=\"progress-bar\"\r\n      onMouseDown={handleMouseDown}\r\n      onMouseUp={handleMouseUp}\r\n      onMouseMove={handleMouseMove}\r\n      onClick={handleClick}\r\n      ref={progressBarRef}\r\n    >\r\n      <div\r\n        className=\"progress-bar-fill\"\r\n        ref={progressBarFillRef}\r\n        style={{\r\n          width: `${progressPercentage}%`,\r\n        }}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport ProgressBar from \"../ProgressBar\";\r\nimport ThumbUpIcon from \"@mui/icons-material/ThumbUp\";\r\nimport ThumbDownIcon from \"@mui/icons-material/ThumbDown\";\r\nimport CommentIcon from \"@mui/icons-material/Comment\";\r\nimport ReplyIcon from \"@mui/icons-material/Reply\";\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\n\r\nconst ShortVideoItem = ({\r\n  video,\r\n  preload,\r\n  play,\r\n  currentDivIndex,\r\n}) => {\r\n  const videoRef = useRef(null);\r\n  const [liked, setLiked] = useState(false);\r\n  const [disLiked, setDisLiked] = useState(false);\r\n  const [duration, setDuration] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    video.addEventListener(\"loadedmetadata\", () => {\r\n      setDuration(video.duration);\r\n    });\r\n  }, []);\r\n\r\n  const location = useLocation();\r\n  const handleLoadedData = () => {\r\n    if (play) {\r\n      videoRef.current.play();\r\n      console.log(\"played\");\r\n    } else {\r\n      videoRef.current.pause();\r\n      console.log(\"paused\");\r\n    }\r\n  };\r\n\r\n  //   useEffect(() => {\r\n  //     // if (!autoplay) videoRef.current.pause();\r\n  //     console.log(currentDivIndex);\r\n  //   }, [currentDivIndex]);\r\n\r\n  const handleClick = (e) => {\r\n    if (e.target.paused) {\r\n      e.target.play();\r\n      return;\r\n    }\r\n    e.target.pause();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"shortVideoItem\">\r\n        <video\r\n          ref={videoRef}\r\n          className=\"shortVideos\"\r\n          src={video.video_files[2].link}\r\n          poster={video.image}\r\n          // controls\r\n          onClick={handleClick}\r\n          // onLoadedData={handleLoadedData}\r\n          // autoPlay={autoplay}\r\n          preload={preload}\r\n          loop\r\n        />\r\n        <div className=\"video-progress_bar\">\r\n          <ProgressBar\r\n            videoRef={videoRef}\r\n            duration={duration}\r\n            setDuration={setDuration}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"video-details shorts\">\r\n          <div className=\"channelName\" style={{cursor: 'default'}}>\r\n            {video.user.name}\r\n            <a href={video.user.url} >\r\n            <img src={video.image} alt=\"channel-logo\" />\r\n            </a>\r\n          </div>\r\n          <div className=\"subscribe-btn\" >\r\n            <p onClick={(e)=>{\r\n            e.target.parentElement.classList.toggle('subscribed')\r\n          }}>Subscribe</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"video-interactions\">\r\n          <Tooltip disableInteractive title=\"I like this\" placement=\"left\">\r\n            <div\r\n              className=\"interaction like\"\r\n              onClick={() => {\r\n                setLiked((prev) => !prev);\r\n                setDisLiked(false);\r\n              }}\r\n            >\r\n              <div\r\n                className=\"icon\"\r\n                style={{\r\n                  background: !liked\r\n                    ? \"var(--dark-light)\"\r\n                    : \"var(--text-color)\",\r\n                }}\r\n              >\r\n                <ThumbUpIcon sx={{ color: liked ? \"var(--dark)\" : \"white\" }} />\r\n              </div>\r\n              <p className=\"detail\">{String(video.id).slice(0, 3)}K</p>\r\n            </div>\r\n          </Tooltip>\r\n\r\n          <Tooltip disableInteractive title=\"I dislike this\" placement=\"left\">\r\n            <div\r\n              className=\"interaction like\"\r\n              onClick={() => {\r\n                setLiked(false);\r\n                setDisLiked((prev) => !prev);\r\n              }}\r\n            >\r\n              <div\r\n                className=\"icon\"\r\n                style={{\r\n                  background: !disLiked\r\n                    ? \"var(--dark-light)\"\r\n                    : \"var(--text-color)\",\r\n                }}\r\n              >\r\n                <ThumbDownIcon\r\n                  sx={{ color: disLiked ? \"var(--dark)\" : \"white\" }}\r\n                />\r\n              </div>\r\n              <p className=\"detail\">Dislike</p>\r\n            </div>\r\n          </Tooltip>\r\n\r\n          <Tooltip disableInteractive title=\"Comments\" placement=\"left\">\r\n            <div className=\"interaction comment\">\r\n              <div className=\"icon\">\r\n                <CommentIcon />\r\n              </div>\r\n              <p className=\"detail\">\r\n                {String((40 / 100) * Number(video.id)).slice(0, 2)}K\r\n              </p>\r\n            </div>\r\n          </Tooltip>\r\n\r\n          <Tooltip disableInteractive title=\"Share\" placement=\"left\">\r\n            <div className=\"interaction share\">\r\n              <div\r\n                className=\"icon\"\r\n                style={{\r\n                  transformOrigin: \"center\",\r\n                  transform: \"rotateX(180deg)\",\r\n                }}\r\n              >\r\n                <ReplyIcon />\r\n              </div>\r\n              <p className=\"detail\">Share</p>\r\n            </div>\r\n          </Tooltip>\r\n\r\n          <div className=\"interaction more\">\r\n            <div className=\"icon\">\r\n              <MoreHorizIcon />\r\n            </div>\r\n            <p className=\"detail\"></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShortVideoItem;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { APIParamsContext } from \"../APIParams\";\r\n\r\nimport \"../css/Shorts.scss\";\r\nimport useVideoSearch from \"../useVideoSearch\";\r\nimport ShortVideoItem from \"../components/ShortVideoItem\";\r\n\r\nconst Shorts = () => {\r\n  const { query, page } = useContext(APIParamsContext);\r\n  const { result } = useVideoSearch(query, page, \"portrait\");\r\n  const [currentDivIndex, setCurrentDivIndex] = useState(0);\r\n  const [slideClass, setSlideClass] = useState(\"\");\r\n  const [touchStartY, setTouchStartY] = useState(0);\r\n  const [touchMoveY, setTouchMoveY] = useState(0);\r\n\r\n  const divs = result.map((video, index) => {\r\n    return (\r\n      <ShortVideoItem\r\n        key={video.id}\r\n        video={video}\r\n        preload={currentDivIndex === index ? \"auto\" : \"none\"}\r\n        play={currentDivIndex === index ? true : false}\r\n        currentDivIndex={currentDivIndex}\r\n      />\r\n    );\r\n  });\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\") {\r\n      navigate(event.key === \"ArrowDown\" ? 1 : -1);\r\n    }\r\n  };\r\n\r\n  const navigate = (direction) => {\r\n    const nextIndex = currentDivIndex + direction;\r\n    if (nextIndex >= 0 && nextIndex < divs.length) {\r\n      setCurrentDivIndex(nextIndex);\r\n    }\r\n  };\r\n\r\n  const handleTouchStart = (event) => {\r\n    if (touchStartY === 0) {\r\n      setTouchStartY(event.touches[0].clientY);\r\n    }\r\n  };\r\n\r\n  const handleTouchMove = (event) => {\r\n    setTouchMoveY(event.touches[0].clientY);\r\n  };\r\n\r\n  const handleTouchEnd = (event) => {\r\n    if (touchMoveY === 0) {\r\n      setTouchStartY(0);\r\n      setTouchMoveY(0);\r\n      return;\r\n    }\r\n\r\n    const nextIndex = currentDivIndex + (touchMoveY - touchStartY > 0 ? -1 : 1);\r\n    if (nextIndex >= 0 && nextIndex < divs.length) {\r\n      setCurrentDivIndex(nextIndex);\r\n      setTimeout(() => {\r\n        setSlideClass(\"\");\r\n      }, 500);\r\n      setSlideClass(touchMoveY - touchStartY > 0 ? \"slide-up\" : \"slide-down\");\r\n    }\r\n    setTouchStartY(0);\r\n    setTouchMoveY(0);\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      {divs.map((div, index) => (\r\n        <div\r\n          key={index}\r\n          className={`slide-container ${\r\n            index === currentDivIndex ? \"\" : \"hidden\"\r\n          } ${index === currentDivIndex ? slideClass : \"\"}`}\r\n          tabIndex={0}\r\n          onKeyDown={handleKeyDown}\r\n          onTouchEnd={handleTouchEnd}\r\n          onTouchStart={handleTouchStart}\r\n          onTouchMove={handleTouchMove}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100%\",\r\n            height: \"calc(100vh - 55px)\",\r\n            transition: \"transform 0.5s ease-out\",\r\n            transform: `translateY(${\r\n              index === currentDivIndex\r\n                ? 0\r\n                : index < currentDivIndex\r\n                ? \"-100vh\"\r\n                : \"100vh\"\r\n            })`,\r\n          }}\r\n        >\r\n          {div}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shorts;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { APIParamsContext } from \"./APIParams\";\r\n\r\nexport default function useVideoSearch(\r\n  query = \"all\",\r\n  page = 1,\r\n  orientation = \"landscape\",\r\n  id\r\n) {\r\n  const [result, setResult] = useState([]);\r\n  const [isloading, setIsloading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const { setProgress } = useContext(APIParamsContext);\r\n\r\n  const location = useLocation();\r\n  const min_duration = orientation === \"landscape\" ? 120 : 30;\r\n\r\n  const API_KEY = \"zD6L2vpyizUNtptqjEe1jYsDVFErIBRJFTDf4WGl7wMkk5F6X3OmUo3p\";\r\n\r\n  useEffect(() => {\r\n    setResult([]);\r\n  }, [query, location]);\r\n\r\n  useEffect(() => {\r\n    const fetchVideos = async () => {\r\n      try {\r\n        setError(false);\r\n        setIsloading(true);\r\n\r\n        setProgress(30); // setting progress\r\n        const res = await axios.get(\"https://api.pexels.com/videos/search\", {\r\n          headers: {\r\n            Authorization: API_KEY,\r\n          },\r\n          params: {\r\n            query,\r\n            per_page: 15,\r\n            orientation,\r\n            page,\r\n            size: \"small\",\r\n            min_duration,\r\n          },\r\n        });\r\n        setProgress(50); // setting progress\r\n        setIsloading(false);\r\n        setResult((prev) => [...prev, ...res.data.videos]);\r\n        setProgress(80); // setting progress\r\n        setHasMore(Boolean(res.data.next_page));\r\n        setProgress(100); // setting progress\r\n      } catch (e) {\r\n        setIsloading(false);\r\n        setProgress(0); // setting progress\r\n        setError(true);\r\n        console.log(e);\r\n      }\r\n    };\r\n\r\n    fetchVideos();\r\n  }, [query, page, id]);\r\n\r\n  return { isloading, result, error, hasMore };\r\n}\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z\"\n}), 'Comment');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHoriz');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z\"\n}), 'Reply');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z\"\n}), 'ThumbDown');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z\"\n}), 'ThumbUp');\nexports.default = _default;"],"names":["ProgressBar","videoRef","duration","setDuration","useState","currentTime","setCurrentTime","isScrubbing","setIsScrubbing","progressBarRef","useRef","progressBarFillRef","useEffect","intervalId","setInterval","current","clearInterval","progressPercentage","className","onMouseDown","onMouseUp","onMouseMove","event","getBoundingClientRect","left","width","clickX","clientX","newTime","onClick","progressBar","querySelector","style","transition","percentage","isFinite","ref","video","preload","play","currentDivIndex","liked","setLiked","disLiked","setDisLiked","addEventListener","useLocation","src","video_files","link","poster","image","e","target","paused","pause","loop","cursor","user","name","href","url","alt","parentElement","classList","toggle","Tooltip","disableInteractive","title","placement","prev","background","ThumbUp","sx","color","String","id","slice","ThumbDown","Comment","Number","transformOrigin","transform","Reply","MoreHoriz","useContext","APIParamsContext","query","page","result","useVideoSearch","setCurrentDivIndex","slideClass","setSlideClass","touchStartY","setTouchStartY","touchMoveY","setTouchMoveY","divs","map","index","handleKeyDown","key","navigate","direction","nextIndex","length","handleTouchStart","touches","clientY","handleTouchMove","handleTouchEnd","setTimeout","position","div","tabIndex","onKeyDown","onTouchEnd","onTouchStart","onTouchMove","top","height","orientation","setResult","isloading","setIsloading","error","setError","hasMore","setHasMore","setProgress","location","min_duration","fetchVideos","axios","headers","Authorization","params","per_page","size","res","data","videos","Boolean","next_page","console","log","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}