"use strict";(self.webpackChunkyoutube_clone=self.webpackChunkyoutube_clone||[]).push([[880],{8880:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(9439),i=n(2791),s=n(5170),a=n(890),c=n(7689),o=n(184);function l(e){var t=e.videoRef,n=e.duration,s=e.setDuration,a=(0,i.useState)(0),c=(0,r.Z)(a,2),l=c[0],u=c[1],d=(0,i.useState)(!1),v=(0,r.Z)(d,2),h=v[0],f=v[1],m=(0,i.useRef)(),p=(0,i.useRef)();(0,i.useEffect)((function(){var e=setInterval((function(){h||u(t.current.currentTime)}),1e3);return function(){return clearInterval(e)}}),[h,t]),(0,i.useEffect)((function(){s(t.current.duration)}),[t]);var x=l/n*100;return(0,o.jsx)("div",{className:"progress-bar",onMouseDown:function(){f(!0)},onMouseUp:function(){f(!1)},onMouseMove:function(e){if(h){var r=m.current.getBoundingClientRect(),i=r.left,s=r.width,a=e.clientX-i,c=n*(a/s);u(c),t.current.currentTime=c}},onClick:function(e){var r=m.current;r.querySelector(".progress-bar-fill").style.transition="none";var i=r.getBoundingClientRect(),s=i.left,a=i.width,c=(e.clientX-s)/a,o=n*c;isFinite(o)&&(u(o),r.querySelector(".progress-bar-fill").style.width="".concat(100*c,"%"),t.current.currentTime=o)},ref:m,children:(0,o.jsx)("div",{className:"progress-bar-fill",ref:p,style:{width:"".concat(x,"%")}})})}var u=n(786),d=n(2664),v=n(9161),h=n(2637),f=n(2094),m=n(1192),p=function(e){var t=e.video,n=e.preload,s=(e.play,e.currentDivIndex,(0,i.useRef)(null)),a=(0,i.useState)(!1),p=(0,r.Z)(a,2),x=p[0],j=p[1],g=(0,i.useState)(!1),Z=(0,r.Z)(g,2),b=Z[0],k=Z[1],N=(0,i.useState)(0),y=(0,r.Z)(N,2),w=y[0],S=y[1];(0,i.useEffect)((function(){var e=s.current;e.addEventListener("loadedmetadata",(function(){S(e.duration)}))}),[]);(0,c.TH)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"shortVideoItem",children:[(0,o.jsx)("video",{ref:s,className:"shortVideos",src:t.video_files[2].link,poster:t.image,onClick:function(e){e.target.paused?e.target.play():e.target.pause()},preload:n,loop:!0}),(0,o.jsx)("div",{className:"video-progress_bar",children:(0,o.jsx)(l,{videoRef:s,duration:w,setDuration:S})}),(0,o.jsxs)("div",{className:"video-details shorts",children:[(0,o.jsxs)("div",{className:"channelName",style:{cursor:"default"},children:[t.user.name,(0,o.jsx)("a",{href:t.user.url,children:(0,o.jsx)("img",{src:t.image,alt:"channel-logo"})})]}),(0,o.jsx)("div",{className:"subscribe-btn",children:(0,o.jsx)("p",{onClick:function(e){e.target.parentElement.classList.toggle("subscribed")},children:"Subscribe"})})]}),(0,o.jsxs)("div",{className:"video-interactions",children:[(0,o.jsx)(m.Z,{disableInteractive:!0,title:"I like this",placement:"left",children:(0,o.jsxs)("div",{className:"interaction like",onClick:function(){j((function(e){return!e})),k(!1)},children:[(0,o.jsx)("div",{className:"icon",style:{background:x?"var(--text-color)":"var(--dark-light)"},children:(0,o.jsx)(u.Z,{sx:{color:x?"var(--dark)":"white"}})}),(0,o.jsxs)("p",{className:"detail",children:[String(t.id).slice(0,3),"K"]})]})}),(0,o.jsx)(m.Z,{disableInteractive:!0,title:"I dislike this",placement:"left",children:(0,o.jsxs)("div",{className:"interaction like",onClick:function(){j(!1),k((function(e){return!e}))},children:[(0,o.jsx)("div",{className:"icon",style:{background:b?"var(--text-color)":"var(--dark-light)"},children:(0,o.jsx)(d.Z,{sx:{color:b?"var(--dark)":"white"}})}),(0,o.jsx)("p",{className:"detail",children:"Dislike"})]})}),(0,o.jsx)(m.Z,{disableInteractive:!0,title:"Comments",placement:"left",children:(0,o.jsxs)("div",{className:"interaction comment",children:[(0,o.jsx)("div",{className:"icon",children:(0,o.jsx)(v.Z,{})}),(0,o.jsxs)("p",{className:"detail",children:[String(.4*Number(t.id)).slice(0,2),"K"]})]})}),(0,o.jsx)(m.Z,{disableInteractive:!0,title:"Share",placement:"left",children:(0,o.jsxs)("div",{className:"interaction share",children:[(0,o.jsx)("div",{className:"icon",style:{transformOrigin:"center",transform:"rotateX(180deg)"},children:(0,o.jsx)(h.Z,{})}),(0,o.jsx)("p",{className:"detail",children:"Share"})]})}),(0,o.jsxs)("div",{className:"interaction more",children:[(0,o.jsx)("div",{className:"icon",children:(0,o.jsx)(f.Z,{})}),(0,o.jsx)("p",{className:"detail"})]})]})]})})},x=function(){var e=(0,i.useContext)(s.z),t=e.query,n=e.page,c=(0,a.Z)(t,n,"portrait").result,l=(0,i.useState)(0),u=(0,r.Z)(l,2),d=u[0],v=u[1],h=(0,i.useState)(""),f=(0,r.Z)(h,2),m=f[0],x=f[1],j=(0,i.useState)(0),g=(0,r.Z)(j,2),Z=g[0],b=g[1],k=(0,i.useState)(0),N=(0,r.Z)(k,2),y=N[0],w=N[1],S=c.map((function(e,t){return(0,o.jsx)(p,{video:e,preload:d===t?"auto":"none",play:d===t,currentDivIndex:d},e.id)})),z=function(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||C("ArrowDown"===e.key?1:-1)},C=function(e){var t=d+e;t>=0&&t<S.length&&v(t)},M=function(e){0===Z&&b(e.touches[0].clientY)},D=function(e){w(e.touches[0].clientY)},I=function(e){if(0===y)return b(0),void w(0);var t=d+(y-Z>0?-1:1);t>=0&&t<S.length&&(v(t),setTimeout((function(){x("")}),500),x(y-Z>0?"slide-up":"slide-down")),b(0),w(0)};return(0,o.jsx)("div",{style:{position:"relative"},children:S.map((function(e,t){return(0,o.jsx)("div",{className:"slide-container ".concat(t===d?"":"hidden"," ").concat(t===d?m:""),tabIndex:0,onKeyDown:z,onTouchEnd:I,onTouchStart:M,onTouchMove:D,style:{position:"absolute",top:0,left:0,width:"100%",height:"calc(100vh - 55px)",transition:"transform 0.5s ease-out",transform:"translateY(".concat(t===d?0:t<d?"-100vh":"100vh",")")},children:e},t)}))})}},890:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(4165),i=n(3433),s=n(5861),a=n(9439),c=n(2791),o=n(1912),l=n(7689),u=n(5170);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"landscape",d=arguments.length>3?arguments[3]:void 0,v=(0,c.useState)([]),h=(0,a.Z)(v,2),f=h[0],m=h[1],p=(0,c.useState)(!1),x=(0,a.Z)(p,2),j=x[0],g=x[1],Z=(0,c.useState)(!1),b=(0,a.Z)(Z,2),k=b[0],N=b[1],y=(0,c.useState)(!1),w=(0,a.Z)(y,2),S=w[0],z=w[1],C=(0,c.useContext)(u.z).setProgress,M=(0,l.TH)(),D="landscape"===n?120:30;return(0,c.useEffect)((function(){m([])}),[e,M]),(0,c.useEffect)((function(){var a=function(){var a=(0,s.Z)((0,r.Z)().mark((function s(){var a;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,N(!1),g(!0),C(30),r.next=6,o.Z.get("https://api.pexels.com/videos/search",{headers:{Authorization:"zD6L2vpyizUNtptqjEe1jYsDVFErIBRJFTDf4WGl7wMkk5F6X3OmUo3p"},params:{query:e,per_page:15,orientation:n,page:t,size:"small",min_duration:D}});case 6:a=r.sent,C(50),g(!1),m((function(e){return[].concat((0,i.Z)(e),(0,i.Z)(a.data.videos))})),C(80),z(Boolean(a.data.next_page)),C(100),r.next=21;break;case 15:r.prev=15,r.t0=r.catch(0),g(!1),C(0),N(!0),console.log(r.t0);case 21:case"end":return r.stop()}}),s,null,[[0,15]])})));return function(){return a.apply(this,arguments)}}();a()}),[e,t,d]),{isloading:j,result:f,error:k,hasMore:S}}},9161:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),s=n(184),a=(0,i.default)((0,s.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Comment");t.Z=a},2094:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),s=n(184),a=(0,i.default)((0,s.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.Z=a},2637:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),s=n(184),a=(0,i.default)((0,s.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");t.Z=a},2664:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),s=n(184),a=(0,i.default)((0,s.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"}),"ThumbDown");t.Z=a},786:function(e,t,n){var r=n(4836);t.Z=void 0;var i=r(n(5649)),s=n(184),a=(0,i.default)((0,s.jsx)("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}),"ThumbUp");t.Z=a}}]);
//# sourceMappingURL=880.d310535e.chunk.js.map